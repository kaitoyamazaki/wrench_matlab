% データの定義
l1 = [0 0 0; 0 1 0.01; 0 2 0.02; 0 3 0.03; 0 4 0.04; 0 5 0.05];
l2 = [0 0 0; -1 0 0.025; -2 0 0.05; -3 0 0.075; -4 0 0.1; -5 0 0.125];

% 方向ベクトルを計算
v1 = l1(2,:) - l1(1,:); % l1の始点と終点の差
v2 = l2(2,:) - l2(1,:); % l2の始点と終点の差

% 法線ベクトルを外積で計算
normal = cross(v1, v2);

% 平面の方程式のD成分を計算（点 (0,0,0) を通るため、D = 0）
D = -dot(normal, l1(1,:));

% 平面のプロット
[x, y] = meshgrid(-5:0.5:5, -5:0.5:5); % プロットする範囲を定義
z = (-normal(1)*x - normal(2)*y - D) / normal(3);

% 3Dプロット
figure;
surf(x, y, z, 'FaceAlpha', 0.5); % 半透明の平面
hold on;
plot3(l1(:,1), l1(:,2), l1(:,3), 'r', 'LineWidth', 2); % l1を赤線でプロット
plot3(l2(:,1), l2(:,2), l2(:,3), 'b', 'LineWidth', 2); % l2を青線でプロット
xlabel('X');
ylabel('Y');
zlabel('Z');
grid on;